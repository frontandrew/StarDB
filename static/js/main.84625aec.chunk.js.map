{"version":3,"sources":["components/error-message/death-star.png","components/api-context/api-context.js","modules/api.js","modules/test-api.js","components/header/header.js","components/spiner/spiner.js","components/error-message/error-message.js","components/error-boundry/error-boundry.js","components/random-planet/random-planet.js","components/hoc-helpers/compose.js","components/hoc-helpers/with-data.js","components/hoc-helpers/with-child.js","components/hoc-helpers/with-swapi.js","components/item-details/item-details.js","components/sw-components/person-details.js","components/sw-components/planet-details.js","components/sw-components/starship-details.js","components/item-list/item-list.js","components/sw-components/item-lists.js","components/row/row.js","components/pages/people-page.js","components/pages/planets-page.js","components/pages/starships-page.js","components/pages/login-page.js","components/pages/secret-page.js","components/app/app.js","index.js"],"names":["module","exports","React","createContext","ApiProvider","Provider","ApiConsumer","Consumer","Api","_apiUrl","_imgUrl","controller","AbortController","getResource","url","a","fetch","signal","res","ok","Error","status","json","getAllPeople","results","map","_transformPerson","getPerson","id","person","getPersonImage","getAllPlanets","_transformPlanet","getPlanet","planet","getPlanetImage","getAllStarships","_transformStarship","getStarshipImage","getStarship","starship","_extractId","item","match","name","population","rotationPeriod","rotation_period","diameter","model","manufacturer","costInCredits","cost_in_credits","length","passengers","cargoCapacity","cargo_capacity","height","gender","birthYear","birth_year","eyeColor","eye_color","this","abort","TestApi","_people","_planets","_starships","crew","Header","onApiChange","className","to","onClick","Spiner","ErrorMessage","src","icon","alt","ErrorBoundry","state","hasError","setState","props","children","Component","RandomPlanet","swapi","loading","onPlanetLoaded","error","onError","err","updatePlanet","Math","floor","random","then","catch","interval","setInterval","updateInterval","clearInterval","abortRequest","hasData","errMessage","spiner","planetVeiw","defaultProps","PlanetVeiw","Fragment","compose","funcs","component","reduceRight","prevRes","func","withData","View","data","prevProps","getData","update","console","withChildFunc","childFunc","withSwapi","mapApiMethodsToProps","apiProps","Record","field","label","key","ItemDetails","image","updateItem","itemId","getImageUrl","content","message","ItemContent","Children","child","cloneElement","InitialMessage","api","ItemList","renderLabel","onItemSelected","items","PersonList","PlanetList","StarshipList","Row","left","rigth","withRouter","history","params","push","PlanetsPage","LoginPage","isLoggedIn","onLogIn","SecretPage","App","Service","log","value","basename","process","path","render","exact","PeoplePage","StarshipsPage","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.84625aec.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","import React from 'react'\r\n\r\nconst {\r\n  Provider: ApiProvider,\r\n  Consumer: ApiConsumer\r\n} = React.createContext();\r\n\r\nexport { ApiProvider, ApiConsumer }","export default class Api {\r\n\r\n  _apiUrl = 'https://swapi.dev/api';\r\n  _imgUrl = 'https://starwars-visualguide.com/assets/img';\r\n\r\n  controller = new AbortController();\r\n\r\n  abortRequest() {\r\n    this.controller.abort();\r\n  }\r\n\r\n  getResource = async (url) => {\r\n    const res = await fetch(`${this._apiUrl}/${url}`, { signal: this.controller.signal });\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}, received ${res.status}`);\r\n    }\r\n    return res.json()\r\n  }\r\n\r\n  getAllPeople = async () => {\r\n    const res = await this.getResource(`people/`)\r\n    return res.results.map(this._transformPerson);\r\n  }\r\n\r\n  getPerson = async (id) => {\r\n    const person = await this.getResource(`people/${id}/`)\r\n    return this._transformPerson(person);\r\n  }\r\n\r\n  getPersonImage = ({ id }) => {\r\n    return `${this._imgUrl}/characters/${id}.jpg`\r\n  }\r\n\r\n  getAllPlanets = async () => {\r\n    const res = await this.getResource(`planets/`)\r\n    return res.results.map(this._transformPlanet);\r\n  }\r\n\r\n  getPlanet = async (id) => {\r\n    const planet = await this.getResource(`planets/${id}/`);\r\n    return this._transformPlanet(planet)\r\n  }\r\n\r\n  getPlanetImage = ({ id }) => {\r\n    return `${this._imgUrl}/planets/${id}.jpg`\r\n  }\r\n\r\n  getAllStarships = async () => {\r\n    const res = await this.getResource(`starships/`)\r\n    return res.results.map(this._transformStarship);\r\n  }\r\n\r\n  getStarshipImage = ({ id }) => {\r\n    return `${this._imgUrl}/starships/${id}.jpg`\r\n  }\r\n\r\n  getStarship = async (id) => {\r\n    const starship = await this.getResource(`starships/${id}/`)\r\n    return this._transformStarship(starship);\r\n  }\r\n\r\n  _extractId = (item) => {\r\n    const idRegexp = /\\/([0-9]+)\\/$/;\r\n    return item.url.match(idRegexp)[1];\r\n  }\r\n\r\n  _transformPlanet = (planet) => {\r\n    return {\r\n      id: this._extractId(planet),\r\n      name: planet.name,\r\n      population: planet.population,\r\n      rotationPeriod: planet.rotation_period,\r\n      diameter: planet.diameter\r\n    }\r\n  }\r\n\r\n  _transformStarship = (starship) => {\r\n    return {\r\n      id: this._extractId(starship),\r\n      name: starship.name,\r\n      model: starship.model,\r\n      manufacturer: starship.manufacturer,\r\n      costInCredits: starship.cost_in_credits,\r\n      length: starship.length,\r\n      passengers: starship.passengers,\r\n      cargoCapacity: starship.cargo_capacity,\r\n    }\r\n  }\r\n\r\n  _transformPerson = (person) => {\r\n    return {\r\n      id: this._extractId(person),\r\n      name: person.name,\r\n      height: person.height,\r\n      gender: person.gender,\r\n      birthYear: person.birth_year,\r\n      eyeColor: person.eye_color,\r\n    }\r\n  }\r\n\r\n}","export default class TestApi {\r\n\r\n  _people = [\r\n    {\r\n      id: 1,\r\n      name: 'Bilbo Baggins [TEST DATA]',\r\n      gender: 'male',\r\n      birthYear: 'long ago',\r\n      eyeColor: 'dark brown'\r\n    },\r\n\r\n    {\r\n      id: 2,\r\n      name: 'Frodo Baggins [TEST DATA]',\r\n      gender: 'male',\r\n      birthYear: 'long ago',\r\n      eyeColor: 'dark brown'\r\n    }\r\n  ];\r\n\r\n  _planets = [\r\n    {\r\n      id: 1,\r\n      name: 'Earth [TEST DATA]',\r\n      population: '7.530.000.000',\r\n      rotationPeriod: '23 hours 56 seconds',\r\n      diameter: '12.742 km'\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Venus [TEST DATA]',\r\n      population: 'not known',\r\n      rotationPeriod: '243 days',\r\n      diameter: '12.104 km'\r\n    }\r\n  ];\r\n\r\n  _starships = [\r\n    {\r\n      id: 1,\r\n      name: 'USS Enterprise [TEST DATA]',\r\n      model: 'NCC-1701-C',\r\n      manufacturer: 'Northrop Grumman Shipbuilding',\r\n      costInCredits: 'not known',\r\n      length: 'approx 300 meters',\r\n      crew: 1000,\r\n      passengers: 50,\r\n      cargoCapacity: 100\r\n    }\r\n  ];\r\n\r\n  getAllPeople = async () => {\r\n    return this._people;\r\n  };\r\n\r\n  getPerson = async () => {\r\n    return this._people[0];\r\n  };\r\n\r\n  getAllPlanets = async () => {\r\n    return this._planets;\r\n  };\r\n\r\n  getPlanet = async () => {\r\n    return this._planets[0]\r\n  };\r\n\r\n  getAllStarships = async () => {\r\n    return this._starships;\r\n  };\r\n\r\n  getStarship = async () => {\r\n    return this._starships[0];\r\n  };\r\n\r\n  getPersonImage = () => {\r\n    return `https://placeimg.com/400/500/people`\r\n  };\r\n\r\n  getStarshipImage = () => {\r\n    return `https://placeimg.com/600/400/tech`;\r\n  };\r\n\r\n  getPlanetImage = () => {\r\n    return `https://placeimg.com/400/400/nature`\r\n  };\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './header.css';\r\n\r\nconst Header = ({ onApiChange }) => {\r\n  return (\r\n    <div className=\"header d-flex\">\r\n      <h3><Link to=\"/\">Star&nbsp;DB</Link></h3>\r\n      <ul className=\"d-flex\">\r\n        <li><Link to=\"/people/\">People</Link></li>\r\n        <li><Link to=\"/planets/\">Planets</Link></li>\r\n        <li><Link to=\"/starships/\">Starships</Link></li>\r\n        <li><Link to=\"/login/\">Login</Link></li>\r\n        <li><Link to=\"/secret\">Secret</Link></li>\r\n      </ul>\r\n      <button\r\n        onClick={onApiChange}\r\n        className=\"btn btn-primary btn-sm\" >\r\n        Test&nbsp;Service\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport './spiner.css';\r\n\r\nconst Spiner = () => {\r\n  return (\r\n    <div className=\"spiner-container\">\r\n      <div className=\"spiner\">\r\n        <div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spiner;","import React from 'react';\r\n\r\nimport './error-message.css';\r\nimport icon from './death-star.png';\r\n\r\nconst ErrorMessage = () => {\r\n  return (\r\n    <div className=\"error-message\">\r\n      <img src={icon} alt=\"error icon\"/>\r\n      <span className=\"boom\">BOOM!</span>\r\n      <span>\r\n        something has gone terribly wrong\r\n      </span>\r\n      <span>\r\n        (but we already sent droids to fix it)\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorMessage;","import React from 'react';\r\n\r\nimport ErrorMessage from '../error-message/error-message';\r\n\r\nexport default class ErrorBoundry extends React.Component {\r\n\r\n  state = {\r\n    hasError: false\r\n  }\r\n\r\n  componentDidCatch() {\r\n    this.setState({\r\n      hasError: true,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorMessage />\r\n    }\r\n    return this.props.children\r\n  }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './random-planet.css';\r\n\r\nimport Api from '../../modules/api'\r\nimport Spiner from '../spiner/spiner';\r\nimport ErrorMessage from '../error-message/error-message';\r\nimport ErrorBoundry from '../error-boundry/error-boundry';\r\n\r\nexport default class RandomPlanet extends React.Component {\r\n\r\n  static defaultProps = {\r\n    updateInterval: 10000\r\n  }\r\n\r\n  static propTypes = {\r\n    updateInterval: PropTypes.number\r\n  }\r\n\r\n  swapi = new Api();\r\n\r\n  state = {\r\n    planet: {},\r\n    loading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updatePlanet();\r\n    this.interval = setInterval(this.updatePlanet, this.props.updateInterval);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n    this.swapi.abortRequest();\r\n  }\r\n\r\n  onPlanetLoaded = (planet) => {\r\n    this.setState({\r\n      planet,\r\n      loading: false,\r\n      error: false,\r\n    });\r\n  }\r\n\r\n  onError = (err) => {\r\n    this.setState({\r\n      error: true,\r\n      loading: false,\r\n    });\r\n  }\r\n\r\n  updatePlanet = () => {\r\n    const id = Math.floor(Math.random() * 20) + 2;\r\n    this.swapi.getPlanet(id)\r\n      .then(this.onPlanetLoaded)\r\n      .catch(this.onError);\r\n  }\r\n\r\n  render() {\r\n    const { planet, loading, error } = this.state;\r\n\r\n    const hasData = !(loading || error);\r\n\r\n    const errMessage = error ? <ErrorMessage /> : null;\r\n    const spiner = loading ? <Spiner /> : null;\r\n    const planetVeiw = hasData ? <PlanetVeiw planet={planet} /> : null;\r\n\r\n    return (\r\n      <ErrorBoundry>\r\n        <div className=\"random-planet jumbotron\">\r\n          {spiner}\r\n          {planetVeiw}\r\n          {errMessage}\r\n        </div>\r\n      </ErrorBoundry>\r\n    );\r\n  }\r\n}\r\n\r\nconst PlanetVeiw = ({ planet }) => {\r\n  const { id, name, population, rotationPeriod, diameter } = planet;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <img className=\"planet-image\" alt=\"planet view\"\r\n        src={`https://starwars-visualguide.com/assets/img/planets/${id}.jpg`} />\r\n      <div>\r\n        <h4>{name}</h4>\r\n        <ul className=\"list-group list-group-flush\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Population</span>\r\n            <span>{population}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Rotation Period</span>\r\n            <span>{rotationPeriod}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Diameter</span>\r\n            <span>{diameter}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","const compose = (...funcs) => (component) => {\r\n  return funcs.reduceRight((prevRes, func) => func(prevRes), component);\r\n}\r\n\r\nexport default compose;","import React from 'react';\r\n\r\nimport Spiner from '../spiner/spiner';\r\nimport ErrorMessage from '../error-message/error-message';\r\n\r\n\r\nconst withData = (View) => {\r\n  return class extends React.Component {\r\n\r\n    state = {\r\n      data: null,\r\n      error: false,\r\n      loading: true\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (this.props.getData !== prevProps.getData) {\r\n        this.update()\r\n      }\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.update()\r\n    }\r\n\r\n    update() {\r\n      this.setState({\r\n        loading: true,\r\n        error: false\r\n      });\r\n\r\n      this.props.getData()\r\n        .then((data) => {\r\n          this.setState({\r\n            data,\r\n            loading: false\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.setState({\r\n            error: true,\r\n            loading: false\r\n          })\r\n        });\r\n    }\r\n\r\n    render() {\r\n      const { data, error, loading } = this.state;\r\n\r\n      if (error) {\r\n        return <ErrorMessage />\r\n      }\r\n\r\n      if (loading) {\r\n        return <Spiner />\r\n      }\r\n\r\n      return <View {...this.props} data={data} />\r\n    }\r\n  }\r\n}\r\n\r\nexport default withData;","import React from 'react';\r\n\r\nconst withChildFunc = (childFunc) => (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <Component {...props}>\r\n        {childFunc}\r\n      </Component>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withChildFunc;","import React from 'react';\r\n\r\nimport { ApiConsumer } from '../api-context/api-context';\r\n\r\nconst withSwapi = (mapApiMethodsToProps) => (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <ApiConsumer>\r\n        {\r\n          (swapi) => {\r\n            const apiProps = mapApiMethodsToProps(swapi);\r\n            return <Component {...props} {...apiProps} />\r\n          }\r\n        }\r\n      </ApiConsumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSwapi;","import React from 'react';\r\n\r\nimport './item-details.css';\r\n\r\nimport Spiner from '../spiner/spiner';\r\nimport ErrorMessage from '../error-message/error-message';\r\n\r\nconst Record = ({ item, field, label }) => {\r\n  return (\r\n    <li key={item.id}\r\n      className=\"list-group-item\">\r\n      <span className=\"term\">{`${label}: `}</span>\r\n      <span>{item[field]}</span>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport { Record };\r\n\r\nexport default class ItemDetails extends React.Component {\r\n\r\n  state = {\r\n    item: null,\r\n    image: null,\r\n    loading: false,\r\n    hasError: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateItem();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { itemId, getData, getImageUrl } = this.props;\r\n\r\n    if (itemId !== prevProps.itemId ||\r\n        getData !== prevProps.getData ||\r\n        getImageUrl !== prevProps.getImageUrl) {\r\n      this.updateItem();\r\n    }\r\n  }\r\n\r\n  updateItem() {\r\n    const { itemId, getData, getImageUrl } = this.props;\r\n\r\n    if (!itemId) return this.setState({ item: null, image: null, hasError: false });\r\n\r\n    this.setState({ item: null, loading: true });\r\n    getData(itemId)\r\n      .then((item) => {\r\n        this.setState({\r\n          item,\r\n          image: getImageUrl(item),\r\n          loading: false,\r\n          hasError: false\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({          \r\n          hasError: true,\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { loading, item, image, hasError } = this.state;\r\n\r\n    if (hasError) {\r\n      return <ErrorMessage />\r\n    }\r\n\r\n    const content = item ? <ItemContent item={item} image={image} children={this.props.children} /> : null;\r\n    const spiner = loading ? <Spiner /> : null;\r\n    const message = !item && !loading ? <InitialMessage /> : null;\r\n\r\n    return (\r\n        <div className=\"item-details card list-group-item\">\r\n          {message}\r\n          {content}\r\n          {spiner}\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst ItemContent = ({ item, image, children }) => {\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <img className=\"item-image\" alt=\"view of selected\"\r\n        src={image} />\r\n      <div className=\"card-body\">\r\n        <h4>{item.name}</h4>\r\n        <ul className=\"list-group list-group-flush\">\r\n          {\r\n            React.Children.map(children, (child) => {\r\n              return React.cloneElement(child, { item })\r\n            })\r\n          }\r\n          <li className=\"list-group-item\">\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst InitialMessage = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <span\r\n        className=\"init-message\">\r\n        Select a character from a list\r\n      </span>\r\n    </React.Fragment>\r\n  )\r\n}","import React from 'react'\r\n\r\nimport { withSwapi } from '../hoc-helpers';\r\nimport ItemDetails, { Record } from '../item-details/item-details'\r\n\r\nconst PersonDetails = (props) => {\r\n  return (\r\n    <ItemDetails {...props} >\r\n      <Record field=\"gender\" label=\"Gender\" />\r\n      <Record field=\"birthYear\" label=\"Birth year\" />\r\n      <Record field=\"height\" label=\"Height\" />\r\n      <Record field=\"eyeColor\" label=\"Eye color\" />\r\n    </ItemDetails>\r\n  );\r\n}\r\n\r\nconst mapApiMethodsToProps = (api) => {\r\n  return {\r\n    getData: api.getPerson,\r\n    getImageUrl: api.getPersonImage\r\n  }\r\n}\r\n\r\nexport default withSwapi(mapApiMethodsToProps)(PersonDetails);","import React from 'react'\r\n\r\nimport { withSwapi } from '../hoc-helpers';\r\nimport ItemDetails, { Record } from '../item-details/item-details'\r\n\r\nconst PlanetDetails = (props) => {\r\n  return (\r\n    <ItemDetails {...props} >\r\n\r\n      <Record field=\"diameter\" label=\"Diameter\" />\r\n      <Record field=\"population\" label=\"Population\" />\r\n      <Record field=\"climate\" label=\"Climate\" />\r\n\r\n    </ItemDetails>\r\n  );\r\n}\r\n\r\nconst mapApiMethodsToProps = (api) => {\r\n  return {\r\n    getData: api.getPlanet,\r\n    getImageUrl: api.getPlanetImage\r\n  }\r\n}\r\n\r\nexport default withSwapi(mapApiMethodsToProps)(PlanetDetails);","import React from 'react'\r\n\r\nimport { withSwapi } from '../hoc-helpers';\r\nimport ItemDetails, { Record } from '../item-details/item-details';\r\n\r\nconst StarshipDetails = (props) => {\r\n  return (\r\n    <ItemDetails {...props} >\r\n      <Record field=\"model\" label=\"Model\" />\r\n      <Record field=\"costInCredits\" label=\"Cost\" />\r\n      <Record field=\"length\" label=\"Length\" />\r\n      <Record field=\"passengers\" label=\"Passengers\" />\r\n    </ItemDetails>\r\n  );\r\n}\r\n\r\nconst mapApiMethodsToProps = (api) => {\r\n  return {\r\n    getData: api.getStarship,\r\n    getImageUrl: api.getStarshipImage\r\n  }\r\n}\r\n\r\nexport default withSwapi(mapApiMethodsToProps)(StarshipDetails);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './item-list.css';\r\n\r\nconst ItemList = (props) => {\r\n\r\n  const { data, children: renderLabel, onItemSelected } = props;\r\n\r\n  const items = data.map((item) => {\r\n    const { id } = item;\r\n    const label = renderLabel(item);\r\n    return (\r\n      <li\r\n        key={id}\r\n        className=\"list-group-item\"\r\n        onClick={() => onItemSelected(id)}>\r\n        {label}\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <ul className=\"item-list list-group\">\r\n      {items}\r\n    </ul>\r\n  );\r\n}\r\n\r\nItemList.defaultProps = {\r\n  onItemSelected: () => {},\r\n}\r\n\r\nItemList.propTypes = {\r\n  onItemSelected: PropTypes.func,\r\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  children: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ItemList;","import React from 'react'\r\n\r\nimport ItemList from '../item-list/item-list'\r\nimport { withData, withSwapi, withChildFunc, compose } from '../hoc-helpers/'\r\n\r\n\r\nconst personLabel = ({ name, gender, birthYear }) => <span>{name} (Gender: {gender}, Birth year: {birthYear})</span>;\r\nconst starshipLabel = ({ name, model }) => <span>{name} (Model: {model})</span>;\r\nconst planetLabel = ({ name, population }) => <span>{name} (Population: {population} pers.)</span>;\r\n\r\nconst mapPersonMethodsToProps = (swapi) => {\r\n  return { getData: swapi.getAllPeople }\r\n}\r\nconst mapPlanetMethodsToProps = (swapi) => {\r\n  return { getData: swapi.getAllPlanets }\r\n}\r\nconst mapStarshipMethodsToProps = (swapi) => {\r\n  return { getData: swapi.getAllStarships }\r\n}\r\n\r\n  const PersonList = compose(withSwapi(mapPersonMethodsToProps), withData, withChildFunc(personLabel))(ItemList);\r\n  const PlanetList = compose(withSwapi(mapPlanetMethodsToProps), withData, withChildFunc(planetLabel))(ItemList);\r\n  const StarshipList = compose(withSwapi(mapStarshipMethodsToProps), withData, withChildFunc(starshipLabel))(ItemList);\r\n\r\n  export {\r\n    PersonList,\r\n    PlanetList,\r\n    StarshipList\r\n  }","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Row = ({ left, rigth }) => {\r\n  return (\r\n    <div className=\"row mb2\">\r\n      <div className=\"col-md-6\">\r\n        {left}\r\n      </div>\r\n      <div className=\"col-md-6\">\r\n        {rigth}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nRow.propTypes = {\r\n  left: PropTypes.node,\r\n  rigth: PropTypes.node,\r\n}\r\n\r\nexport default Row;\r\n","import React, { Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Row from '../row/row';\r\n\r\nimport { PersonDetails, PersonList } from '../sw-components';\r\n\r\nconst PeoplePage = ({ match, history }) => {\r\n  const { id } = match.params;\r\n  return (\r\n    <Fragment>\r\n      <h2>People</h2>\r\n      <Row\r\n        left={<PersonList onItemSelected={id => history.push(id)} />}\r\n        rigth={<PersonDetails itemId={id} />}\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default withRouter(PeoplePage);","import React, { Fragment } from 'react';\r\n\r\nimport Row from '../row/row';\r\n\r\nimport { PlanetDetails, PlanetList } from '../sw-components';\r\n\r\nexport default class PlanetsPage extends React.Component {\r\n\r\n  state = {\r\n    itemId: null\r\n  }\r\n\r\n  onItemSelected = (itemId) => {\r\n    this.setState({ itemId })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <h2>Planets</h2>\r\n        <Row\r\n          left={<PlanetList onItemSelected={this.onItemSelected} />}\r\n          rigth={<PlanetDetails itemId={this.state.itemId} />}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { StarshipList } from '../sw-components';\r\n\r\nconst StarshipsPage = ({ history }) => {\r\n  return (\r\n    <StarshipList onItemSelected={itemId => history.push(itemId)} />\r\n  );\r\n}\r\n\r\nexport default withRouter(StarshipsPage);","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst LoginPage = ({ isLoggedIn, onLogIn }) => {\r\n\r\n  if (isLoggedIn) {\r\n    return (\r\n      <Redirect to=\"/\" />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"jumbotron\">\r\n      <p>Log in to see secret page!</p>\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        onClick={onLogIn} >\r\n        Login\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst SecretPage = ({ isLoggedIn }) => {\r\n\r\n  if (isLoggedIn) {\r\n    return (\r\n      <div className=\"jumbotron text-center\">\r\n        <h3>This page is full of secrets!</h3>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Redirect to=\"/login/\" />\r\n  );\r\n}\r\n\r\nexport default SecretPage;","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\r\n/**Switch отрисует только тот первый компонент с которым совпадет\r\n * запрос, остальные игнорируются. Должен оборачивать компоненты \r\n * Route и Redirect.\r\n * \r\n * Route без path срабатывает если остальные пути не совпали с запросом\r\n * Так можно показывать сообщение 'Page not found' */\r\n\r\nimport './app.css';\r\n\r\nimport { ApiProvider } from '../api-context/api-context';\r\nimport Api from '../../modules/api';\r\nimport TestApi from '../../modules/test-api';\r\n\r\nimport Header from '../header/header';\r\nimport RandomPlanet from '../random-planet/random-planet';\r\nimport ErrorBoundry from '../error-boundry/error-boundry';\r\nimport { StarshipDetails } from '../sw-components';\r\nimport {\r\n  PeoplePage,\r\n  PlanetsPage,\r\n  StarshipsPage,\r\n  LoginPage,\r\n  SecretPage,\r\n} from '../pages';\r\n\r\nexport default class App extends React.Component {\r\n\r\n  state = {\r\n    swapi: new Api(),\r\n    isLoggedIn: false,\r\n  }\r\n\r\n  onLogIn = () => {\r\n    this.setState({ isLoggedIn: true })\r\n  }\r\n\r\n  onApiChange = () => {\r\n    this.setState(({ swapi }) => {\r\n      const Service = swapi instanceof Api ? TestApi : Api;\r\n      console.log('switched to: ' + Service.name)\r\n\r\n      return { swapi: new Service() }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ErrorBoundry>\r\n        <ApiProvider value={this.state.swapi}>\r\n          <Router basename={process.env.PUBLIC_URL + '/#/'}>\r\n            <div className=\"stardb-app\">\r\n\r\n              <Header onApiChange={this.onApiChange} />\r\n              <RandomPlanet updateInterval={60000} />\r\n\r\n              <Switch>\r\n                <Route path=\"/\"\r\n                  render={() => <h2 className=\"text-center\">Welcome to Star DB</h2>}\r\n                  exact />\r\n                <Route path=\"/people/:id?\" component={PeoplePage} />\r\n                <Route path=\"/planets\" component={PlanetsPage} />\r\n                <Route path=\"/starships\" exact component={StarshipsPage} />\r\n                <Route path=\"/starships/:id\"\r\n                  render={({ match }) => {\r\n                    return <StarshipDetails itemId={match.params.id} />\r\n                  }} />\r\n                <Route path=\"/login\" render={() => <LoginPage isLoggedIn={this.state.isLoggedIn} onLogIn={this.onLogIn} />} />\r\n                <Route path=\"/secret\" render={() => <SecretPage isLoggedIn={this.state.isLoggedIn} />} />\r\n                \r\n                <Redirect to=\"/\" />\r\n              </Switch>\r\n\r\n            </div>\r\n          </Router>\r\n        </ApiProvider>\r\n      </ErrorBoundry>\r\n    );\r\n  }\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/app/app';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}